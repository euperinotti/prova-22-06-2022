<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabalho final - Gian</title>
</head>
<body>
    <script>
        function save(data1, data2) {
    alert(`Salvamos seus dados, você pode usar eles denovo: ${data1}, ${data2}`)
    let data3 = prompt("Você quer usá-los? s para sim qualquer outro para não, sair para sair")
    if (data3 == "sair") {
        alert("Fim")
    } else
    if (data3 == "s") {
        let choice = prompt("Qual operação você quer fazer?, s para soma, d para divisão, ss para subtração e m para multiplicação")
        switch (choice) {
            case 'm':
                alert("Você escolheu multiplicação")
                multi(data1, data2)
                break
            case 's':
                alert("Você escolheu soma")
                soma(data1, data2)
                break
            case 'ss':
                alert("Você escolheu subtração")
                sub(data1, data2)
                break
            case 'd':
                alert("Você escolheu divisão")
                divi(data1, data2)
                break
        }
    } else {
        main()
    }
}

function multi(first, second) {
    if (first == "x" || second == "y") {
        let num1 = Number(prompt("Digite o primeiro número: "))
        let num2 = Number(prompt("Digite o segundo número:"))
        alert(num1 * num2);
        let choice = prompt("Algo mais? s para sim.")
        if (choice == "s") {
            save(num1, num2)
        } else{alert("Fim")}
    } else {
        alert(first * second);
        let choice = prompt("Algo mais? s para sim.")
        if (choice == "s") {
            save(first, second)
        }
    }
}
function divi(first, second) {
    if (first == "x" || second == "y") {
        let num1 = Number(prompt("Digite o primeiro número:"))
        let num2 = Number(prompt("Digite o segundo número:"))
        if(num1 == 0 || num2 == 0){
            alert("Impossível dividir por 0.")
        }
        alert(num1 / num2);
        let choice = prompt("Algo mais? s para sim.")
        if (choice == "s") {
            save(num1, num2)
        }
    } else {
        alert(first / second);
        let choice = prompt("Algo mais? s para sim.")
        if (choice == "s") {
            save(first, second)
        }
    }
}
function soma(first, second) {
    if (first == "x" || second == "y") {
        let num1 = Number(prompt("Digite o primeiro número:"))
        let num2 = Number(prompt("Digite o segundo número:"))
        alert(num1 + num2);
        let choice = prompt("Algo mais? s para sim.")
        if (choice == "s") {
            save(num1, num2)
        }
    } else {
        alert(first + second);
        let choice = prompt("Algo mais? s para sim.")
        if (choice == "s") {
            save(first, second)
        }
    }
}
function sub(first, second) {
    if (first == "x" || second == "y") {
        let num1 = Number(prompt("Digite o primeiro número:"))
        let num2 = Number(prompt("Digite o segundo número:"))
        alert(num1 - num2);
        let choice = prompt("Algo mais? s para sim.")
        if (choice == "s") {
            save(num1, num2)
        }
    } else {
        alert(first - second);
        let choice = prompt("Algo mais? s para sim.")
        if (choice == "s") {
            save(first, second)
        }
    }
}
function main() {
    alert("Calculadora")
    var data = prompt("Qual operação você quer fazer? m para multiplicação, s para soma, ss para subtração e d para divisão.")
    switch (data) {
        case 'm':
            alert("Você escolheu multiplicação")
            multi("x", "y");
            break;
        case 's':
            alert("Você escolheu soma")
            soma("x", "y");
            break;
        case 'd':
            alert("Você escolheu divisão")
            divi("x", "y");
            break;
        case 'ss':
            alert("Você escolheu subtração")
            sub("x", "y");
            break
        default:
            break;
    }
}
main()
    </script>
</body>
</html>